:root {
    --accent-gold: #f7d794;
    --cake-layer: #fbb1bd;
    --deep-violet: #1a0a2e;
    --pulse-pink: #2d0b25;
    --glass: rgba(255, 255, 255, 0.1);
    --glow-color: #fd79a8;
}

/* Smooth page transitions */
* { box-sizing: border-box; transition: opacity 0.5s ease; }

body { 
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Roboto, sans-serif;
    background: var(--deep-violet);
    color: white;
    overflow-x: hidden;
    min-height: 100vh;
}

/* 1. GATEKEEPER */
#gatekeeper {
    position: fixed; inset: 0;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    background: #000; z-index: 1000;
}

/* 2. CAKE SECTION */
#cake-section {
    display: none; position: relative;
    flex-direction: column; justify-content: center; align-items: center;
    height: 100vh; width: 100%; z-index: 10; overflow: hidden;
}

/* Banner with Side Lighting & Zoom */
.banner-wrapper {
    position: absolute; inset: 0; z-index: -1;
}

.banner-img {
    width: 100%; height: 100%; object-fit: cover;
    opacity: 0.5;
    animation: kenBurns 20s infinite alternate ease-in-out;
}

@keyframes kenBurns {
    0% { transform: scale(1); }
    100% { transform: scale(1.15); }
}

.side-lighting {
    position: absolute; inset: 0;
    background: linear-gradient(to right, rgba(0,0,0,0.8) 0%, transparent 25%, transparent 75%, rgba(0,0,0,0.8) 100%);
}

/* 3. GLOSSY TEXT */
.glossy-birthday {
    font-size: clamp(2.5rem, 8vw, 4.5rem);
    font-weight: 900; margin: 20px 0;
    text-transform: uppercase; text-align: center;
    background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fcf6ba, #bf953f);
    background-size: 200% auto;
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    animation: textShine 3s linear infinite;
}

@keyframes textShine { to { background-position: 200% center; } }

/* 4. PHOTO GRID (4x2 Portrait) */
.photo-grid-container {
    max-width: 1000px; margin: 30px auto; padding: 20px;
    background: var(--glass); backdrop-filter: blur(10px);
    border-radius: 20px; overflow-x: auto;
}

.photo-grid {
    display: grid; grid-template-columns: repeat(4, 1fr);
    gap: 20px; min-width: 800px; padding: 10px;
}

.photo-item {
    position: relative; aspect-ratio: 9 / 16;
    background: #111; border-radius: 12px;
    overflow: hidden; display: flex; align-items: center; justify-content: center;
}

/* Edge Light Animation */
.photo-item::before {
    content: ''; position: absolute; width: 200%; height: 200%;
    background: conic-gradient(transparent, var(--accent-gold), var(--glow-color), transparent 40%);
    animation: rotateGlow 4s linear infinite;
}

.photo-item::after {
    content: ''; position: absolute; inset: 3px;
    background: #000; border-radius: 10px; z-index: 1;
}

.photo-item img {
    width: 100%; height: 100%; object-fit: cover;
    position: relative; z-index: 2; border-radius: 10px;
}

@keyframes rotateGlow { to { transform: rotate(360deg); } }

/* 5. CAKE DESIGN */
.cake { position: relative; width: 160px; margin: 40px 0; }
.layer { background: var(--cake-layer); border-radius: 10px 10px 0 0; margin: 0 auto; border-bottom: 3px solid rgba(0,0,0,0.1); }
.tier1 { width: 160px; height: 50px; }
.tier2 { width: 120px; height: 40px; }
.tier3 { width: 80px; height: 35px; }
.candle { width: 8px; height: 25px; background: #fff; position: absolute; top: -25px; left: 50%; transform: translateX(-50%); }
.flame { width: 12px; height: 18px; background: orange; border-radius: 50% 50% 20% 20%; position: absolute; top: -15px; box-shadow: 0 0 15px orange; animation: flicker 0.1s infinite alternate; }

@keyframes flicker { to { transform: scale(1.1) rotate(2deg); opacity: 0.8; } }

/* BUTTONS */
.action-btn {
    background: var(--accent-gold); color: #000; border: none;
    padding: 14px 28px; font-weight: bold; border-radius: 50px;
    cursor: pointer; font-size: 1rem; margin: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* BACKGROUND ELEMENTS */
#main-content { display: none; padding: 20px; text-align: center; }
.bg-heart { position: fixed; top: -50px; pointer-events: none; z-index: 0; animation: fall linear forwards; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

/* MODALS */
.modal {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.9); z-index: 2000;
    justify-content: center; align-items: center;
}
.modal-content {
    background: #111; padding: 20px; border-radius: 15px;
    border: 1px solid var(--accent-gold); width: 90%; max-width: 450px; position: relative;
    max-height: 80vh; overflow-y: auto; /* Added for long messages */
}